<div class="col-sm-12 col-md-8 text-center">
  <div class="col-sm-12" ng-show="!vm.person && !vm.error">
      <img class="loading-img" src="images/loading-lg.gif"></img>
    </div>
	 <h1>{{ vm.person.givenName }} {{ vm.person.familyName }}</h1>
      <div class="thumbnail" ng-show="vm.person">
        <div class="person-profile-img">
          <div class="row">
            <div class="col-sm-12 text-center">
              <img ng-repeat="img in vm.person.images" class="person-img img img-responsive" ng-src="{{ img }}" 
              		uib-tooltip="Kuvalähde: {{ vm.person.imagesources[$index] }}" tooltip-enable="{{ !!vm.person.imagesources[$index] }}" tooltip-placement="bottom"
              		/>
            </div>
          </div>
        </div>
        <div class="caption" ng-show="vm.person">
          <div class="visible-caption">
            <div class="row">
              <div class="col-xs-12">
                <p ng-if="(vm.person.birthPlace || vm.person.birthDate || vm.person.deathDate)">
                <span ng-if="(vm.person.birthPlace || vm.person.birthDate)">&#8727;&nbsp;{{ vm.person.birthPlace | castArray | join:', ' }} {{ vm.person.birthDate }}</span>
                <span ng-if="(vm.person.deathPlace || vm.person.deathDate)">&dagger;&nbsp;{{ vm.person.deathPlace | castArray | join:', ' }}</span>
                <span ng-if=vm.person.deathDate>{{ vm.person.deathDate }}</span>
                </p>
              </div>
              <div ng-if="vm.person.occupation" class="col-xs-12">
                <p>{{ vm.person.occupation | castArray | join:', ' }}</p>
              </div>
              <div ng-if="vm.person.source" class="col-xs-12">
                <p>Lähteet: {{ vm.person.source | castArray | join:', ' }}</p>
              </div>
              
              <div class="col-xs-12 icon-menu">
                <a title="Data ldf.fi-palvelussa" class="" ng-href="{{ vm.person.id }}"><span class="glyphicon glyphicon-hdd" aria-hidden="true"></span></a>
              </div>
            </div>
            <div class="row">
              <div ng-if="vm.person.wikipedia" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.wikipedia }}">Wikipedia</a>
              </div>
              <div ng-if="vm.person.wikidata" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.wikidata }}">Wikidata</a>
              </div>
              <div ng-if="vm.person.fennica" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.fennica[0] }}">Fennica</a>
              </div>
              <div ng-if="vm.person.fennica && vm.person.fennica[1]" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.fennica[1] }}">Fennica (2)</a>
              </div>
              <div ng-if="vm.person.warsampo" class="col-xs-6 col-xs-offset-3">
                <a ng-href="http://www.sotasampo.fi/fi/persons/?uri={{ vm.person.warsampo }}">Sotasampo</a>
              </div>
              <div ng-if="vm.person.kirjasampo" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.kirjasampo }}">Kirjasampo</a>
              </div>
              <div ng-if="vm.person.kulttuurisampo" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.kulttuurisampo }}">Kulttuurisampo</a>
              </div>
              <div ng-if="vm.person.blf" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.blf }}">Biografiskt lexikon för Finland</a>
              </div>
              <div ng-if="vm.person.ulan" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.ulan }}">ULAN</a>
              </div>
              <div ng-if="vm.person.viaf" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.viaf }}">VIAF</a>
              </div>
              <div ng-if="vm.person.eduskunta" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.eduskunta }}">Eduskunta</a>
              </div>
              <div ng-if="vm.person.norssi" class="col-xs-6 col-xs-offset-3">
                  <a ng-href="http://www.norssit.fi/semweb/#!/tiedot/http:~2F~2Fldf.fi~2Fnorssit~2F{{ vm.person.norssi }}">Norssi</a>
              </div>
              <div ng-if="vm.person.website" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.website }}">Kotisivu</a>
              </div>
              <div ng-if="vm.person.genicom" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.genicom }}">Kotisivu (Geni.com)</a>
              </div>
              <div ng-if="vm.person.genitree" class="col-xs-6 col-xs-offset-3">
                <a ng-href="{{ vm.person.genitree }}">Sukupuu (Geni.com)</a>
              </div>
            </div>
            
            
			<!-- 
            <div class="col-sm-6 col-md-12" ng-if="false && vm.person.bios && vm.person.bios.length" ng-repeat="bio in vm.person.bios | castArray">
            	<div ng-if="bio.database" class="entry-text text-left icon-menu">
	              <hr />
	              
	              	<h4>{{ bio.database }} <a ng-if="bio.link" title="Artikkeli Biografiakeskuksen sivulla" ng-href="{{ bio.link }}">
	              	<span class="glyphicon glyphicon-book" aria-hidden="true"></span>
	              	</a></h4>
	              
	            </div>
            	<div ng-if="bio.lead_paragraph" class="entry-text text-left">
	              <hr />
	              <p ng-bind-html="bio.lead_paragraph"></p>
	            </div>
	            <div ng-if="bio.description" class="entry-text text-left">
	              <hr />
	              <p ng-bind-html="bio.description"></p>
	            </div>
	            
	            <div ng-if="bio.family_paragraph" class="entry-text text-left">
	              <hr />
	              <p>{{ bio.family_paragraph }}</p>
	            </div>
	            
	             <div ng-if="bio.parent_paragraph" class="entry-text text-left">
	              <hr />
	              <h4>Vanhemmat</h4>
	              <p>{{ bio.parent_paragraph }}</p>
	            </div>
	            <div ng-if="bio.spouse_paragraph" class="entry-text text-left">
	              <hr />
	              <h4>Puoliso(t) vanhempineen</h4>
	              <p>{{ bio.spouse_paragraph }}</p>
	            </div>
	            <div ng-if="bio.child_paragraph" class="entry-text text-left">
	              <hr />
	              <h4>Lapset</h4>
	              <p>{{ bio.child_paragraph }}</p>
	            </div>
	            
	            <div ng-if="bio.medal_paragraph" class="entry-text text-left">
	              <hr />
	              <h4>Kunniamerkit</h4>
	              <p>{{ bio.medal_paragraph }}</p>
	            </div>
	            
	            <div ng-if="bio.source_paragraph" class="entry-text text-left">
	              <hr />
	              <p ng-bind-html="bio.source_paragraph"></p>
	            </div>
	            
	            <div class="entry-text text-left">
	            	<hr />
	            	<span ng-if="bio.author_text">Kirjoittaja(t): {{ bio.author_text }}</span>
	            	<span ng-if="bio.created">Julkaistu {{ bio.created | date:'dd.MM.yyyy' }}</span>
	            	<span ng-if="bio.modified">(päivitetty {{ bio.modified | date:'dd.MM.yyyy' }})</span>
	            </div>
	            <hr />
            </div>
            -->
            
          </div>
        </div>
      </div>
      
      <div class="col-sm-6 col-md-12 text-left" ng-if="(vm.person) && !vm.person.bios">
           	<br />
           	<h4>Henkilöllä ei ole biografiakuvauksia</h4>
           	<hr />
      </div>
            
      <div class="col-sm-6 col-md-12 text-left thumbnail"
           	ng-if="vm.person.bios && vm.person.bios.length"
           	>
            <ul class="nav nav-tabs">
		       	<li ng-repeat="bio in vm.person.bios | castArray" ng-class="{ active: vm.isSet($index) }">
		          	<a href ng-click="vm.setTab($index)"><span class="glyphicon glyphicon-book" aria-hidden="true"></span><span style="font-size: 120%;"> {{ bio.database }}</span></a>
		       	</li>
		       	
		       	<li ng-repeat="link in vm.person.externalLinks" ng-class="{ active: vm.isSet(link.label) }">
		       		<a href ng-click="vm.setTab(link.label)">{{ link.label }}</a>
		       	</li>
	     	</ul>
	     	
	     	<div ng-repeat="bio in vm.person.bios | castArray" ng-show="vm.isSet($index)">
         		<nbf-biography url="{{ bio.bio }}"></nbf-biography>
	        </div>
        	
        	<div ng-repeat="link in vm.person.externalLinks" ng-show="vm.isSet(link.label)">
        		<p>{{ link.label }} {{ link.url }}</p> 
        	</div>
		</div>
			
    </div>
     
    <div class="col-md-4 text-left" ng-if="vm.person.relative && vm.person.relative.length">
      <h3 uib-tooltip="Henkilön sukulaisissa näytetään vanhemmat, puolisot ja lapset, ei kaukaisempia sukulaisia" tooltip-placement="left">Sukulaiset</h3>
      <div class="col-sm-6" ng-repeat="relative in vm.person.relative">
      	{{ relative.type }} <personlink url="{{ relative.id2 }}">{{ relative.name }}</personlink>
      </div> 
    </div>
    
    <div class="col-md-4 text-left" ng-if="vm.person.similar">
    <div>
      <h3 uib-tooltip="Henkilöt on määritelty tekoälyllä samankaltaisiksi vertaamalla heidän biografiakuvauksien sanastoa." tooltip-placement="left">Samankaltaisia henkilöitä</h3>
      </div><img ng-if="!vm.person.similar" class="loading-img" src="images/loading-lg.gif"></img>
      <div class="col-sm-6" ng-repeat="person in vm.person.similar"> 
      	<nbf-person url="{{ person.prs }}"></nbf-person>
      </div>
    </div>
    
    <div class="col-md-4 text-left" ng-if="vm.person.referenced">
      <h3 uib-tooltip="Henkilöitä joiden biografioista viitataan tälle sivulle." tooltip-placement="left">T&auml;nne viittaavat sivut</h3>
      <img ng-if="!vm.person.referenced" class="loading-img" src="images/loading-lg.gif"></img>
      <div class="col-sm-6" ng-repeat="person in vm.person.referenced">
      	<nbf-person url="{{ person.id.url }}"></nbf-person>
      </div>
    </div>
    
    <div class="col-md-4 text-left" ng-if="vm.person.authors">
      <h3 uib-tooltip="Tutustu biografiakuvauksen laatijoihin" tooltip-placement="left">Kirjoittajat</h3>
      <img ng-if="!vm.person.authors" class="loading-img" src="images/loading-lg.gif"></img>
      <div class="col-sm-6" ng-repeat="person in vm.person.authors">
      	<nbf-person url="{{ person.author.url }}"></nbf-person>
      </div>
    </div>
    
    <div class="col-md-4 text-left" ng-if="vm.person.sameAuthor">
      <h3>Samoilta kirjoittajilta</h3>
      <img ng-if="!vm.person.sameAuthor" class="loading-img" src="images/loading-lg.gif"></img>
      <div class="col-sm-6" ng-repeat="person in vm.person.sameAuthor">
      	<nbf-person url="{{ person.id.url }}"></nbf-person>
      </div>
    </div>
    
    <div class="col-md-4 text-left" ng-if="vm.person.authoredBios">
      <h3 title="Lue tämän henkilön laatimia biografia-artikkeleja" title-direction="left">Kirjoitettuja artikkeleja</h3>
      <img ng-if="!vm.person.authoredBios" class="loading-img" src="images/loading-lg.gif"></img>
      <div class="col-sm-6" ng-repeat="person in vm.person.authoredBios">
      	<nbf-person url="{{ person.id.url }}"></nbf-person>
      </div>
    </div>
    
  </div>
</div>
